import{R as Y,S as ee,y as q,T as te,U as ne,N as H,V as v,W as J,l as O,i as D,M as X,f as oe}from"./DmdAY6ec.js";function K(e){return Y()?(ee(e),!0):!1}const le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,ue=e=>re.call(e)==="[object Object]",W=()=>{};function Q(e,t){function n(...s){return new Promise((c,a)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(c).catch(a)})}return n}function se(e,t={}){let n,s,c=W;const a=o=>{clearTimeout(o),c(),c=W};let d;return o=>{const r=v(e),f=v(t.maxWait);return n&&a(n),r<=0||f!==void 0&&f<=0?(s&&(a(s),s=null),Promise.resolve(o())):new Promise((u,p)=>{c=t.rejectOnCancel?p:u,d=o,f&&!s&&(s=setTimeout(()=>{n&&a(n),s=null,u(d())},f)),n=setTimeout(()=>{s&&a(s),s=null,u(o())},r)})}}function ie(...e){let t=0,n,s=!0,c=W,a,d,l,o,r;!ne(e[0])&&typeof e[0]=="object"?{delay:d,trailing:l=!0,leading:o=!0,rejectOnCancel:r=!1}=e[0]:[d,l=!0,o=!0,r=!1]=e;const f=()=>{n&&(clearTimeout(n),n=void 0,c(),c=W)};return p=>{const m=v(d),h=Date.now()-t,S=()=>a=p();return f(),m<=0?(t=Date.now(),S()):(h>m&&(o||!s)?(t=Date.now(),S()):l&&(a=new Promise((y,g)=>{c=r?g:y,n=setTimeout(()=>{t=Date.now(),s=!0,y(S()),f()},Math.max(0,m-h))})),!o&&!n&&(n=setTimeout(()=>s=!0,m)),s=!1,a)}}function ce(e){return J()}function A(e){return Array.isArray(e)?e:[e]}function fe(e,t=200,n={}){return Q(se(t,n),e)}function ae(e,t=200,n=!1,s=!0,c=!1){return Q(ie(t,n,s,c),e)}function Z(e,t=!0,n){ce()?q(e,n):t?e():te(e)}function de(e,t,n){return H(e,t,{...n,immediate:!0})}const P=le?window:void 0;function E(e){var t;const n=v(e);return(t=n==null?void 0:n.$el)!=null?t:n}function $(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},s=(l,o,r,f)=>(l.addEventListener(o,r,f),()=>l.removeEventListener(o,r,f)),c=O(()=>{const l=A(v(e[0])).filter(o=>o!=null);return l.every(o=>typeof o!="string")?l:void 0}),a=de(()=>{var l,o;return[(o=(l=c.value)==null?void 0:l.map(r=>E(r)))!=null?o:[P].filter(r=>r!=null),A(v(c.value?e[1]:e[0])),A(oe(c.value?e[2]:e[1])),v(c.value?e[3]:e[2])]},([l,o,r,f])=>{if(n(),!(l!=null&&l.length)||!(o!=null&&o.length)||!(r!=null&&r.length))return;const u=ue(f)?{...f}:f;t.push(...l.flatMap(p=>o.flatMap(m=>r.map(h=>s(p,m,h,u)))))},{flush:"post"}),d=()=>{a(),n()};return K(n),d}function pe(){const e=D(!1),t=J();return t&&q(()=>{e.value=!0},t),e}function me(e){const t=pe();return O(()=>(t.value,!!e()))}function he(e,t,n={}){const{window:s=P,...c}=n;let a;const d=me(()=>s&&"ResizeObserver"in s),l=()=>{a&&(a.disconnect(),a=void 0)},o=O(()=>{const u=v(e);return Array.isArray(u)?u.map(p=>E(p)):[E(u)]}),r=H(o,u=>{if(l(),d.value&&s){a=new ResizeObserver(t);for(const p of u)p&&a.observe(p,c)}},{immediate:!0,flush:"post"}),f=()=>{l(),r()};return K(f),{isSupported:d,stop:f}}function be(e,t={width:0,height:0},n={}){const{window:s=P,box:c="content-box"}=n,a=O(()=>{var u,p;return(p=(u=E(e))==null?void 0:u.namespaceURI)==null?void 0:p.includes("svg")}),d=D(t.width),l=D(t.height),{stop:o}=he(e,([u])=>{const p=c==="border-box"?u.borderBoxSize:c==="content-box"?u.contentBoxSize:u.devicePixelContentBoxSize;if(s&&a.value){const m=E(e);if(m){const h=m.getBoundingClientRect();d.value=h.width,l.value=h.height}}else if(p){const m=A(p);d.value=m.reduce((h,{inlineSize:S})=>h+S,0),l.value=m.reduce((h,{blockSize:S})=>h+S,0)}else d.value=u.contentRect.width,l.value=u.contentRect.height},n);Z(()=>{const u=E(e);u&&(d.value="offsetWidth"in u?u.offsetWidth:t.width,l.value="offsetHeight"in u?u.offsetHeight:t.height)});const r=H(()=>E(e),u=>{d.value=u?t.width:0,l.value=u?t.height:0});function f(){o(),r()}return{width:d,height:l,stop:f}}const M=new Map;function ge(e){const t=Y();function n(l){var o;const r=M.get(e)||new Set;r.add(l),M.set(e,r);const f=()=>c(l);return(o=t==null?void 0:t.cleanups)==null||o.push(f),f}function s(l){function o(...r){c(o),l(...r)}return n(o)}function c(l){const o=M.get(e);o&&(o.delete(l),o.size||a())}function a(){M.delete(e)}function d(l,o){var r;(r=M.get(e))==null||r.forEach(f=>f(l,o))}return{on:n,once:s,off:c,emit:d,reset:a}}const N=1;function we(e,t={}){const{throttle:n=0,idle:s=200,onStop:c=W,onScroll:a=W,offset:d={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:o="auto",window:r=P,onError:f=i=>{console.error(i)}}=t,u=D(0),p=D(0),m=O({get(){return u.value},set(i){S(i,void 0)}}),h=O({get(){return p.value},set(i){S(void 0,i)}});function S(i,_){var b,C,L,j;if(!r)return;const w=v(e);if(!w)return;(L=w instanceof Document?r.document.body:w)==null||L.scrollTo({top:(b=v(_))!=null?b:h.value,left:(C=v(i))!=null?C:m.value,behavior:v(o)});const x=((j=w==null?void 0:w.document)==null?void 0:j.documentElement)||(w==null?void 0:w.documentElement)||w;m!=null&&(u.value=x.scrollLeft),h!=null&&(p.value=x.scrollTop)}const y=D(!1),g=X({left:!0,right:!1,top:!0,bottom:!1}),T=X({left:!1,right:!1,top:!1,bottom:!1}),I=i=>{y.value&&(y.value=!1,T.left=!1,T.right=!1,T.top=!1,T.bottom=!1,c(i))},k=fe(I,n+s),B=i=>{var _;if(!r)return;const b=((_=i==null?void 0:i.document)==null?void 0:_.documentElement)||(i==null?void 0:i.documentElement)||E(i),{display:C,flexDirection:L,direction:j}=getComputedStyle(b),w=j==="rtl"?-1:1,x=b.scrollLeft;T.left=x<u.value,T.right=x>u.value;const F=x*w<=(d.left||0),V=x*w+b.clientWidth>=b.scrollWidth-(d.right||0)-N;C==="flex"&&L==="row-reverse"?(g.left=V,g.right=F):(g.left=F,g.right=V),u.value=x;let R=b.scrollTop;i===r.document&&!R&&(R=r.document.body.scrollTop),T.top=R<p.value,T.bottom=R>p.value;const G=R<=(d.top||0),U=R+b.clientHeight>=b.scrollHeight-(d.bottom||0)-N;C==="flex"&&L==="column-reverse"?(g.top=U,g.bottom=G):(g.top=G,g.bottom=U),p.value=R},z=i=>{var _;if(!r)return;const b=(_=i.target.documentElement)!=null?_:i.target;B(b),y.value=!0,k(i),a(i)};return $(e,"scroll",n?ae(z,n,!0,!1):z,l),Z(()=>{try{const i=v(e);if(!i)return;B(i)}catch(i){f(i)}}),$(e,"scrollend",I,l),{x:m,y:h,isScrolling:y,arrivedState:g,directions:T,measure(){const i=v(e);r&&i&&B(i)}}}export{ge as a,we as b,be as c,he as d,fe as u};
